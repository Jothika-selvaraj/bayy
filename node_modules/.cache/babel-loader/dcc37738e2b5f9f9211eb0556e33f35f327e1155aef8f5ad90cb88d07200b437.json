{"ast":null,"code":"import React,{useState,useEffect,useMemo}from'react';import CourseData from'../../../data/course/CourseData.json';import CourseTypeOne from'../home02/CourseTypeOne';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const CourseTypeFilter=_ref=>{let{itemToShow}=_ref;// Memoize FilterControls to avoid recalculating on every render\nconst FilterControls=useMemo(()=>{const filters=[...new Set(CourseData.map(item=>item.filterParam))];filters.unshift('All');return filters;},[]);// No dependencies; will only run once\nconst numberOfCourses=itemToShow||8;const[dataVisibleCount]=useState(numberOfCourses);const[activeFilter,setActiveFilter]=useState(FilterControls[0].toLowerCase());const[visibleItems,setVisibleItems]=useState([]);useEffect(()=>{setVisibleItems(CourseData.filter(item=>item.id<=dataVisibleCount));},[dataVisibleCount]);// Removed FilterControls from dependencies\nconst handleChange=e=>{e.preventDefault();const filterText=e.target.textContent.toLowerCase();setActiveFilter(filterText);let tempData;if(filterText===FilterControls[0].toLowerCase()){tempData=CourseData.filter(data=>data.id<=dataVisibleCount);}else{tempData=CourseData.filter(data=>data.filterParam.toLowerCase()===filterText&&data.id<=dataVisibleCount);}setVisibleItems(tempData);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row align-items-center justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"heading text-center mb-40\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"subheading\",children:\"Course Trending\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"font-lg\",children:\"Explore popular courses\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"course-filter button-group isotop-filter filters-button-group d-flex justify-content-center\",children:FilterControls.map((filter,i)=>/*#__PURE__*/_jsx(\"button\",{onClick:handleChange,className:filter.toLowerCase()===activeFilter?\"is-checked\":\"\",children:filter},i))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:visibleItems.map(item=>/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3 col-md-6 col-sm-6\",children:/*#__PURE__*/_jsx(CourseTypeOne,{data:item})},item.id))})]})});};export default CourseTypeFilter;","map":{"version":3,"names":["React","useState","useEffect","useMemo","CourseData","CourseTypeOne","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CourseTypeFilter","_ref","itemToShow","FilterControls","filters","Set","map","item","filterParam","unshift","numberOfCourses","dataVisibleCount","activeFilter","setActiveFilter","toLowerCase","visibleItems","setVisibleItems","filter","id","handleChange","e","preventDefault","filterText","target","textContent","tempData","data","children","className","i","onClick"],"sources":["D:/Bayyiyan Academy/Edumel/src/components/layouts/home02/CourseTypeFilter.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport CourseData from '../../../data/course/CourseData.json';\nimport CourseTypeOne from '../home02/CourseTypeOne';\n\nconst CourseTypeFilter = ({ itemToShow }) => {\n    // Memoize FilterControls to avoid recalculating on every render\n    const FilterControls = useMemo(() => {\n        const filters = [...new Set(CourseData.map(item => item.filterParam))];\n        filters.unshift('All');\n        return filters;\n    }, []); // No dependencies; will only run once\n\n    const numberOfCourses = itemToShow || 8;\n    const [dataVisibleCount] = useState(numberOfCourses);\n    \n    const [activeFilter, setActiveFilter] = useState(FilterControls[0].toLowerCase());\n    const [visibleItems, setVisibleItems] = useState([]);\n\n    useEffect(() => {\n        setVisibleItems(CourseData.filter((item) => item.id <= dataVisibleCount));\n    }, [dataVisibleCount]); // Removed FilterControls from dependencies\n\n    const handleChange = (e) => {\n        e.preventDefault();\n        const filterText = e.target.textContent.toLowerCase();\n        setActiveFilter(filterText);\n        \n        let tempData;\n        if (filterText === FilterControls[0].toLowerCase()) {\n            tempData = CourseData.filter((data) => data.id <= dataVisibleCount);\n        } else {\n            tempData = CourseData.filter((data) => \n                data.filterParam.toLowerCase() === filterText &&\n                data.id <= dataVisibleCount\n            );\n        }\n        setVisibleItems(tempData);\n    };\n\n    return (\n        <>\n            <div className=\"container\">\n                <div className=\"row align-items-center justify-content-center\">\n                    <div className=\"col-lg-12\">\n                        <div className=\"heading text-center mb-40\">\n                            <span className=\"subheading\">Course Trending</span>\n                            <h2 className=\"font-lg\">Explore popular courses</h2>\n                        </div>\n                        <div className=\"course-filter button-group isotop-filter filters-button-group d-flex justify-content-center\">\n                            {FilterControls.map((filter, i) => (\n                                <button\n                                    onClick={handleChange}\n                                    key={i}\n                                    className={filter.toLowerCase() === activeFilter ? \"is-checked\" : \"\"}\n                                >\n                                    {filter}\n                                </button>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"row\">\n                    {visibleItems.map((item) => (\n                        <div className=\"col-lg-3 col-md-6 col-sm-6\" key={item.id}>\n                            <CourseTypeOne data={item} />\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default CourseTypeFilter;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,OAAO,KAAQ,OAAO,CAC3D,MAAO,CAAAC,UAAU,KAAM,sCAAsC,CAC7D,MAAO,CAAAC,aAAa,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEpD,KAAM,CAAAC,gBAAgB,CAAGC,IAAA,EAAoB,IAAnB,CAAEC,UAAW,CAAC,CAAAD,IAAA,CACpC;AACA,KAAM,CAAAE,cAAc,CAAGZ,OAAO,CAAC,IAAM,CACjC,KAAM,CAAAa,OAAO,CAAG,CAAC,GAAG,GAAI,CAAAC,GAAG,CAACb,UAAU,CAACc,GAAG,CAACC,IAAI,EAAIA,IAAI,CAACC,WAAW,CAAC,CAAC,CAAC,CACtEJ,OAAO,CAACK,OAAO,CAAC,KAAK,CAAC,CACtB,MAAO,CAAAL,OAAO,CAClB,CAAC,CAAE,EAAE,CAAC,CAAE;AAER,KAAM,CAAAM,eAAe,CAAGR,UAAU,EAAI,CAAC,CACvC,KAAM,CAACS,gBAAgB,CAAC,CAAGtB,QAAQ,CAACqB,eAAe,CAAC,CAEpD,KAAM,CAACE,YAAY,CAAEC,eAAe,CAAC,CAAGxB,QAAQ,CAACc,cAAc,CAAC,CAAC,CAAC,CAACW,WAAW,CAAC,CAAC,CAAC,CACjF,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAG3B,QAAQ,CAAC,EAAE,CAAC,CAEpDC,SAAS,CAAC,IAAM,CACZ0B,eAAe,CAACxB,UAAU,CAACyB,MAAM,CAAEV,IAAI,EAAKA,IAAI,CAACW,EAAE,EAAIP,gBAAgB,CAAC,CAAC,CAC7E,CAAC,CAAE,CAACA,gBAAgB,CAAC,CAAC,CAAE;AAExB,KAAM,CAAAQ,YAAY,CAAIC,CAAC,EAAK,CACxBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,KAAM,CAAAC,UAAU,CAAGF,CAAC,CAACG,MAAM,CAACC,WAAW,CAACV,WAAW,CAAC,CAAC,CACrDD,eAAe,CAACS,UAAU,CAAC,CAE3B,GAAI,CAAAG,QAAQ,CACZ,GAAIH,UAAU,GAAKnB,cAAc,CAAC,CAAC,CAAC,CAACW,WAAW,CAAC,CAAC,CAAE,CAChDW,QAAQ,CAAGjC,UAAU,CAACyB,MAAM,CAAES,IAAI,EAAKA,IAAI,CAACR,EAAE,EAAIP,gBAAgB,CAAC,CACvE,CAAC,IAAM,CACHc,QAAQ,CAAGjC,UAAU,CAACyB,MAAM,CAAES,IAAI,EAC9BA,IAAI,CAAClB,WAAW,CAACM,WAAW,CAAC,CAAC,GAAKQ,UAAU,EAC7CI,IAAI,CAACR,EAAE,EAAIP,gBACf,CAAC,CACL,CACAK,eAAe,CAACS,QAAQ,CAAC,CAC7B,CAAC,CAED,mBACI9B,IAAA,CAAAI,SAAA,EAAA4B,QAAA,cACI9B,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAD,QAAA,eACtBhC,IAAA,QAAKiC,SAAS,CAAC,+CAA+C,CAAAD,QAAA,cAC1D9B,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAD,QAAA,eACtB9B,KAAA,QAAK+B,SAAS,CAAC,2BAA2B,CAAAD,QAAA,eACtChC,IAAA,SAAMiC,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAC,iBAAe,CAAM,CAAC,cACnDhC,IAAA,OAAIiC,SAAS,CAAC,SAAS,CAAAD,QAAA,CAAC,yBAAuB,CAAI,CAAC,EACnD,CAAC,cACNhC,IAAA,QAAKiC,SAAS,CAAC,6FAA6F,CAAAD,QAAA,CACvGxB,cAAc,CAACG,GAAG,CAAC,CAACW,MAAM,CAAEY,CAAC,gBAC1BlC,IAAA,WACImC,OAAO,CAAEX,YAAa,CAEtBS,SAAS,CAAEX,MAAM,CAACH,WAAW,CAAC,CAAC,GAAKF,YAAY,CAAG,YAAY,CAAG,EAAG,CAAAe,QAAA,CAEpEV,MAAM,EAHFY,CAID,CACX,CAAC,CACD,CAAC,EACL,CAAC,CACL,CAAC,cAENlC,IAAA,QAAKiC,SAAS,CAAC,KAAK,CAAAD,QAAA,CACfZ,YAAY,CAACT,GAAG,CAAEC,IAAI,eACnBZ,IAAA,QAAKiC,SAAS,CAAC,4BAA4B,CAAAD,QAAA,cACvChC,IAAA,CAACF,aAAa,EAACiC,IAAI,CAAEnB,IAAK,CAAE,CAAC,EADgBA,IAAI,CAACW,EAEjD,CACR,CAAC,CACD,CAAC,EACL,CAAC,CACR,CAAC,CAEX,CAAC,CAED,cAAe,CAAAlB,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}